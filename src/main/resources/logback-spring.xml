<?xml version="1.0" encoding="UTF-8"?>

<configuration>
    <include resource="org/springframework/boot/logging/logback/base.xml" />
    <include resource="org/springframework/boot/logging/logback/defaults.xml" />
    <include resource="org/springframework/boot/logging/logback/console-appender.xml" />

    <appender name="Console"
              class="ch.qos.logback.core.ConsoleAppender">
        <layout class="ch.qos.logback.classic.PatternLayout">
            <Pattern>
                %d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} [%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n
            </Pattern>
        </layout>
    </appender>

    <appender name="DB" class="ch.qos.logback.classic.db.DBAppender">
        <connectionSource class="ch.qos.logback.core.db.DriverManagerConnectionSource">
            <driverClass>com.mysql.jdbc.Driver</driverClass>
            <url>jdbc:h2:mem:accpdb</url>
            <user>admin</user>
            <password>admin</password>
        </connectionSource>
    </appender>

    <root level="info">
        <appender-ref ref="Console" />
<!--        <appender-ref ref="DB"/>-->
    </root>

    <logger name="com.db" level="trace" additivity="false">
        <appender-ref ref="Console" />
<!--        <appender-ref ref="DB"/>-->
    </logger>

</configuration>


<!--<configuration>-->

<!--    <property name="LOGS" value="./logs" />-->
<!--    <property resource="application-accp.properties" />-->

<!--    <appender name="Console"-->
<!--              class="ch.qos.logback.core.ConsoleAppender">-->
<!--        <layout class="ch.qos.logback.classic.PatternLayout">-->
<!--            <Pattern>-->
<!--                %black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable-->
<!--            </Pattern>-->
<!--        </layout>-->
<!--    </appender>-->

<!--    <appender name="DB" class="org.apache.log4j.jdbc.JDBCAppender">-->
<!--        <param name="url" value="${logdb-endpoint}"/>-->
<!--        <param name="driver" value="com.mysql.jdbc.Driver"/>-->
<!--        <param name="user" value="${logdb-username}"/>-->
<!--        <param name="password" value="${logdb-password}"/>-->
<!--        <param name="sql" value="INSERT INTO LOGS VALUES('%x','%d','%C','%p','%m')"/>-->

<!--        <layout class="org.apache.log4j.PatternLayout">-->
<!--        </layout>-->
<!--    </appender>-->

<!--    <appender name="RollingFile"-->
<!--              class="ch.qos.logback.core.rolling.RollingFileAppender">-->
<!--        <file>${LOGS}/spring-boot-logger.log</file>-->
<!--        <encoder-->
<!--                class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">-->
<!--            <Pattern>%d %p %C{1.} [%t] %m%n</Pattern>-->
<!--        </encoder>-->

<!--        <rollingPolicy-->
<!--                class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">-->
<!--            &lt;!&ndash; rollover daily and when the file reaches 10 MegaBytes &ndash;&gt;-->
<!--            <fileNamePattern>${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log-->
<!--            </fileNamePattern>-->
<!--            <timeBasedFileNamingAndTriggeringPolicy-->
<!--                    class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">-->
<!--                <maxFileSize>10MB</maxFileSize>-->
<!--            </timeBasedFileNamingAndTriggeringPolicy>-->
<!--        </rollingPolicy>-->
<!--    </appender>-->

<!--    &lt;!&ndash; LOG everything at INFO level &ndash;&gt;-->
<!--    <root level="info">-->
<!--        <appender-ref ref="RollingFile" />-->
<!--        <appender-ref ref="Console" />-->
<!--        <appender-ref ref="DB"/>-->
<!--    </root>-->

<!--    <logger name="com.db" level="trace" additivity="false">-->
<!--        <appender-ref ref="RollingFile" />-->
<!--        <appender-ref ref="Console" />-->
<!--        <appender-ref ref="DB"/>-->
<!--    </logger>-->

<!--</configuration>-->